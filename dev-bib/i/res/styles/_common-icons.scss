// ================================================================================
// + Icons
// --------------------------------------------------------------------------------

@mixin icon() {
	@include font-icon("Font Awesome");
	display: inline-block;
	width: 1.2em;
	height: 1em;
}

*[class*="bibi-with-icon"] { &:before { @include icon(); } }

.bibi-with-icon-Twitter    { &:before { content: "\f081"; color: rgb(29,161,242); } }
.bibi-with-icon-Facebook   { &:before { content: "\f082"; color: rgb(58,89,153); } }
.bibi-with-icon-GooglePlus { &:before { content: "\f0d4"; color: rgb(219,68,55); } }

.bibi-with-icon-code       { &:before { content: "\f121"; color: gray; } } 
.bibi-with-icon-anchor     { &:before { content: "\f13d"; color: navy; } }

.bibi-with-icon-colorless  { &:before {                   color: inherit; } }


// ================================================================================
// + BiB/i Logo
// --------------------------------------------------------------------------------


.bibi-logo {
	.bibi-type {
		display: inline-block;
		position: relative;
		font-weight: inherit;
		font-family: "Quando", serif;
		letter-spacing: -0.075em;
		word-break: keep-all;
		.bibi-type-B,
		.bibi-type-i,
		.bibi-type-slash {
			display: inline-block;
			position: relative;
		}
		.bibi-type-B {
		}
		.bibi-type-i {
		}
		.bibi-type-slash {
			font-family: "Lato", sans-serif; margin-right: 0.0275em;
			font-family: "Cantata One", serif; top: 0.05em; margin-left: -0.05em; margin-right: -0.081em;
			font-weight: 300;
			font-size: .69em;
		}
	}
}




// ================================================================================
// + Draw
// --------------------------------------------------------------------------------


// - Vars
// --------------------------------------------------------------------------------

$button-size: 29px;
$button-group-margin: 4px;

$shape-item-width: 10px;
$shape-item-height: 17px;
$shape-spread-width: $shape-item-width * 2 - 1px;
$shape-spread-height: $shape-item-height;



// - Base
// --------------------------------------------------------------------------------

.bibi-button,
.bibi-button *,
.bibi-button:before,
.bibi-button:after {
	box-sizing: border-box;
	display: block;
	padding: 0;
	border-style: none;
	border-width: 0;
	text-align: center;
	vertical-align: middle;
	text-decoration: none;
}

.bibi-button {
	overflow: hidden;
	position: relative;
	border: solid 1px;
	border-radius: 2px;
	width: $button-size;
	height: $button-size;
	&:before, &:after, * {
		position: absolute;
		margin: 0;
	}
	&>span.bibi-button-label {
		font-size: 0;
	}
}


// - Shapes
// --------------------------------------------------------------------------------

.bibi-button-view-paged,
.bibi-button-view-horizontal,
.bibi-button-view-vertical {
	span.bibi-shape-spreads {
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		margin: auto;
		width: $shape-spread-width;
		height: $shape-spread-height;
		span.bibi-shape-spread {
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			span.bibi-shape-item {
				top: 0;
				border: solid 1px;
				width: $shape-item-width;
				height: $shape-item-height;
				&:first-child { left: 0; }
				&:last-child  { left: ($shape-item-width - 1px); }
			}
			/*
			span.bibi-shape-item:first-child,
			span.bibi-shape-item:last-child {
				&:before, &:after {
					display: block;
					position: absolute;
					left: -100%; right: -100%; top: -100%; bottom: -100%; margin: auto;
					width: 100%; height: 100%;
					line-height: $shape-item-height * 1.33;
					font-size: 10px;
					text-align: center;
					vertical-align: middle;
					transform: scale($shape-item-width / 10px * 0.7);
				}
			}
			&:first-child, &:last-child {
				span.bibi-shape-item:first-child,
				span.bibi-shape-item:last-child {
					&:before, &:after {
						display: none;
					}
				}
			}
			*/
		}
	}
}

.bibi-button-view-paged {
	span.bibi-shape-spreads-paged {
		span.bibi-shape-spread {
			&:first-child { display: none; }
			&:last-child  { display: none; }
			/*
			span.bibi-shape-item:first-child {
				&:before { content: "P"; }
			}
			*/
		}
	}
}

.bibi-button-view-horizontal {
	span.bibi-shape-spreads-horizontal {
		span.bibi-shape-spread {
			&:first-child { left: ($shape-spread-width + 1px) * -1; }
			&:last-child  { left: ($shape-spread-width + 1px); }
			/*
			span.bibi-shape-item:first-child {
				&:before { content: "H"; }
			}
			span.bibi-shape-item:last-child {
			//	&:before { content: "S"; }
			}
			*/
		}
	}
}

.bibi-button-view-vertical {
	span.bibi-shape-spreads-vertical {
		span.bibi-shape-spread {
			&:first-child { top: ($shape-spread-height + 2px) * -1; }
			&:last-child  { top: ($shape-spread-height + 2px); }
			/*
			span.bibi-shape-item:first-child {
				&:before { content: "V"; }
			}
			span.bibi-shape-item:last-child {
			//	&:before { content: "S"; }
			}
			*/
		}
	}
}


// - Bars
// --------------------------------------------------------------------------------

.bibi-button-toggle-panel {
	$bar-width: 19px;
	$bar-height: 2px;
	$bar-isolation: 4px;
	$bar-block-height: $bar-height + $bar-isolation;
	$bars-width: $bar-width;
	$bars-height: $bar-height * 3 + $bar-isolation * 2 + 1px;
	$bars-top: ($button-size - $bars-height) / 2 - 1px;
	&:before, &>span.bibi-button-label, &:after {
		left: 0;
		right: 0;
		margin: auto;
		//border-bottom: solid 1px;
		width: $bar-width;
		height: $bar-height;
		border-radius: 1px;
		transition: .125s linear;
	}
	&:before, &:after {
		content: "";
		display: block;
		position: absolute;
	}
	&:before {
		top: $bars-top;
	}
	&>span.bibi-button-label {
		top: $bars-top + $bar-block-height;
	}
	&:after {
		top: $bars-top + $bar-block-height * 2;
	}
	&.active {
		&:before {
			transform: translateY(($bar-isolation + $bar-height) *  1) rotate(135deg);
		}
		&>span.bibi-button-label {
			opacity: 0;
		}
		&:after {
			transform: translateY(($bar-isolation + $bar-height) * -1) rotate(225deg);
		}
	}
}


// - Icon Fonts
// --------------------------------------------------------------------------------

.bibi-button-toggle-touch,
.bibi-button-share,
.bibi-button-open-newwindow,
.bibi-button-toggle-fullscreen {
	text-decoration: none;
	&:before {
		@include font-icon("Material Icons");
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		margin: 0;
		width: 100%;
		height: 100%;
		text-align: center;
		vertical-align: middle;
	}
}

.bibi-button-toggle-touch {
	&:before {
		content: /*touch_app*/ "\e913";
		line-height: $button-size * 0.98;
		font-size: $button-size * 0.72;
	}
}

.bibi-button-share {
	&:before {
		content: /*share*/ "\e80d";
		line-height: $button-size * 0.98;
		font-size: $button-size * 0.72;
	}
}

.bibi-button-open-newwindow {
	&:before {
		content: /*open_in_new*/ "\e89e";
		line-height: $button-size * 0.98;
		font-size: $button-size * 0.72;
	}
}

.bibi-button-toggle-fullscreen {
	&:before {
		line-height: $button-size * 0.96;
		font-size: $button-size * 0.94;
	}
	&:before,
	&.hover:before {
		content: /*fullscreen*/ "\e5d0";
	}
	&.active:before,
	&.active.hover:before {
		content: /*fullscreen_exit*/ "\e5d1";
	}
}




// ================================================================================
// + Colors & Interaction
// --------------------------------------------------------------------------------


// - Vars
// --------------------------------------------------------------------------------

$button-color_font-paint:    gray;
$button-color_font-outline:  transparent;
$button-color_shape-paint:   white;
$button-color_shape-outline: $button-color_font-paint;
$button-color_background:    rgba(248,248,248, 0.9);
$button-color_border:        lighten($button-color_font-paint, 20%);

$button-color_hover_font-paint:    darken($button-color_font-paint, 15%);
$button-color_hover_font-outline:  $button-color_font-outline;
$button-color_hover_shape-paint:   $button-color_shape-paint;
$button-color_hover_shape-outline: $button-color_hover_font-paint;
$button-color_hover_background:    darken($button-color_background, 15%);
$button-color_hover_border:        $button-color_border;

$button-color_active_font-paint:    $button-color_shape-paint;
$button-color_active_font-outline:  $button-color_font-paint;
$button-color_active_shape-paint:   $button-color_shape-paint;
$button-color_active_shape-outline: $button-color_font-paint;
$button-color_active_background:    darken($button-color_background, 50%);
$button-color_active_border:        darken($button-color_border, 20%);

$button-color_active-hover_font-paint:    $button-color_active_font-paint;
$button-color_active-hover_font-outline:  lighten($button-color_active_font-outline, 10%);
$button-color_active-hover_shape-paint:   $button-color_active_shape-paint;
$button-color_active-hover_shape-outline: lighten($button-color_active_shape-outline, 10%);
$button-color_active-hover_background:    lighten($button-color_active_background, 15%);
$button-color_active-hover_border:        lighten($button-color_active_border, 10%);
/*
$button-color_hover_font-paint: $button-color_shape-paint;
$button-color_hover_font-outline: $button-color_font-paint;
$button-color_hover_shape-paint: $button-color_shape-paint;
$button-color_hover_shape-outline: $button-color_hover_font-outline;
$button-color_hover_background: rgba($button-color_font-paint, 0.8);
$button-color_hover_border: $button-color_font-paint;

$button-color_active_font-paint: $button-color_shape-paint;
$button-color_active_font-outline: darken(pink, 5%);
$button-color_active_shape-paint: $button-color_shape-paint;
$button-color_active_shape-outline: darken(pink, 5%);
$button-color_active_background: lighten(pink, 5%);
$button-color_active_border: darken(pink, 5%);
*/


// - Mix Ins
// --------------------------------------------------------------------------------

@mixin outline-color($tb, $color) {
	#{$tb}-shadow:
		-1px -1px 0px $color,
		 0px -1px 0px $color,
		 1px -1px 0px $color,
		 1px  0px 0px $color,
		 1px  1px 0px $color,
		 0px  1px 0px $color,
		-1px  1px 0px $color,
		-1px  0px 0px $color,
		 0px  0px 1px $color;
}

@mixin colour-buttons(
	$color_font-paint,
	$color_font-outline,
	$color_shape-paint,
	$color_shape-outline,
	$color_background,
	$color_border
) {
	border-color: $color_border;
	background-color: $color_background;
	&:before {
		color: $color_font-paint;
		@include outline-color("text", $color_font-outline);
	}
	span.bibi-shape-spreads {
		span.bibi-shape-spread {
			span.bibi-shape-item {
				border-color: $color_shape-outline;
				background-color: $color_shape-paint;
			}
			/*
			span.bibi-shape-item:first-child,
			span.bibi-shape-item:last-child {
				&:before, &:after {
					color: rgba($color_shape-outline, 0.75);
				}
			}
			*/
		}
	}
	&.bibi-button-toggle-panel {
		&:before, &>span.bibi-button-label, &:after {
			background-color: $color_font-paint;
			@include outline-color("box", $color_font-outline);
		}
	}
}


// - Default
// --------------------------------------------------------------------------------

.bibi-button {
	@include colour-buttons(
		$button-color_font-paint,
		$button-color_font-outline,
		$button-color_shape-paint,
		$button-color_shape-outline,
		$button-color_background,
		$button-color_border
	);
	transition: 0.25s linear;
	&:before, &:after, * {
		transition: 0.25s linear;
	}
}/*
.bibi-button-toggle {
	&:before {
		opacity: 0.5;
	}
}
.bibi-button-toggle-panel {
	&:before {
		opacity: 1;
	}
}*/


// - Hover
// --------------------------------------------------------------------------------

.bibi-button.hover {
	@include colour-buttons(
		$button-color_hover_font-paint,
		$button-color_hover_font-outline,
		$button-color_hover_shape-paint,
		$button-color_hover_shape-outline,
		$button-color_hover_background,
		$button-color_hover_border
	);
	cursor: pointer;
	&.bibi-button-radio.active {
		cursor: default;
	}
	transition: 0.125s linear;
	&:before, &:after, * {
		transition: 0.125s linear;
	}
}


// - Active
// --------------------------------------------------------------------------------

.bibi-button.active {
	@include colour-buttons(
		$button-color_active_font-paint,
		$button-color_active_font-outline,
		$button-color_active_shape-paint,
		$button-color_active_shape-outline,
		$button-color_active_background,
		$button-color_active_border
	);
}/*
.bibi-button-toggle.active {
	&:before {
		opacity: 1;
	}
}*/


// - Active & Hover
// --------------------------------------------------------------------------------

.bibi-button-normal.active.hover,
.bibi-button-toggle.active.hover {
	@include colour-buttons(
		$button-color_active-hover_font-paint,
		$button-color_active-hover_font-outline,
		$button-color_active-hover_shape-paint,
		$button-color_active-hover_shape-outline,
		$button-color_active-hover_background,
		$button-color_active-hover_border
	);
}
